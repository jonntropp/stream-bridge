<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apertura in Brave...</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; }
        .btn { display: inline-block; padding: 10px 20px; background-color: #ff3300; color: white; text-decoration: none; border-radius: 5px; margin-top: 20px; }
    </style>
</head>
<body>
    <h3>Reindirizzamento a Brave Browser in corso...</h3>
    <p>Se non succede nulla, clicca il pulsante qui sotto.</p>
    <a href="#" id="manualLink" class="btn">Apri manualmente</a>

    <script>
        // L'URL di destinazione
        var targetUrl = "vixsrc.to/movie/27205?lang=it";
        var fullUrl = "https://" + targetUrl;

        // Rilevamento User Agent
        var userAgent = navigator.userAgent || navigator.vendor || window.opera;
        var manualLink = document.getElementById('manualLink');

        // Logica per iOS (iPhone/iPad)
        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
            // Brave su iOS usa lo schema brave://
            // Sostituiamo https:// con brave://
            var iosDeepLink = "brave://" + targetUrl;
            
            manualLink.href = iosDeepLink;
            window.location.href = iosDeepLink;
            
            // Fallback: Se Brave non è installato, dopo un po' potresti voler rimandare all'App Store o al link normale
            setTimeout(function() {
                // window.location.href = fullUrl; // Decommenta per aprire nel browser default se fallisce
            }, 2500);
        } 
        
        // Logica per Android
        else if (/android/i.test(userAgent)) {
            // Android usa gli Intent. Questo è il metodo più robusto.
            // Dice al sistema: "Apri questo URL (scheme=https) ma SOLO col pacchetto com.brave.browser"
            var androidIntent = "intent://" + targetUrl + "#Intent;scheme=https;package=com.brave.browser;S.browser_fallback_url=" + encodeURIComponent(fullUrl) + ";end";
            
            manualLink.href = androidIntent;
            window.location.href = androidIntent;
        } 
        
        // Desktop o altri OS
        else {
            window.location.href = fullUrl;
        }
    </script>
</body>
</html>
